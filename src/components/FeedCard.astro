---
export interface Props {
  title: string;
  link: string;
  pubDate: string;
  content?: string;
}

const { title, link, pubDate, content } = Astro.props;

const formatDate = (dateStr: string) => {
  try {
    const date = new Date(dateStr);
    return date.toLocaleDateString('ja-JP', {
      month: 'short',
      day: 'numeric',
      hour: '2-digit',
      minute: '2-digit'
    });
  } catch {
    return dateStr;
  }
};
---

<article class="feed-item">
  <h3 class="feed-title">
    <a 
      href={link} 
      target="_blank" 
      rel="noopener noreferrer"
      class="text-blue-600 hover:text-blue-800 visited:text-purple-600"
    >
      {title}
    </a>
  </h3>
  <div class="feed-meta">{formatDate(pubDate)}</div>
  {content && (
    <p class="feed-content" set:html={content}></p>
  )}
</article>
